<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>VINMonad</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <meta
    name="description"
    content="On-chain utilities built on Monad, providing Swap, Dice, and Lotto through publicly verified contracts and an open-source dApp."
  />

  <link rel="icon" type="image/png" href="logo.png" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="header">
  <div class="logo">
    <img src="logo.png" alt="VINMonad" />
    <span>VINMonad</span>
  </div>

  <nav class="menu">
    <button id="menuHome" class="menu-btn active">Home</button>
    <button id="menuSwap" class="menu-btn">Swap</button>
    <button id="menuDice" class="menu-btn">Dice</button>
    <button id="menuLotto" class="menu-btn">Lotto</button>
  </nav>

  <div class="header-right">
    <div class="price-chip">
      <span>VIN</span>
      <span id="vinPriceUsd">–</span>
      <span>USD</span>
    </div>

    <div class="wallet">
      <span id="walletAddress">–</span>
      <button id="connectWallet">Connect</button>
    </div>
  </div>
</header>

<!-- ================= MAIN ================= -->
<main>

  <!-- ========== HOME ========== -->
  <section id="home" class="page active">
    <div class="home-box">
      <div class="balance">
        <div>VIN: <span id="vinBalance">–</span></div>
        <div>MON: <span id="monBalance">–</span></div>
      </div>

      <div class="home-actions">
        <button data-go="swap">Swap</button>
        <button data-go="dice">Dice</button>
        <button data-go="lotto">Lotto</button>
      </div>
    </div>
  </section>

  <!-- ========== SWAP (KEEP ORIGINAL) ========== -->
  <section id="swap" class="page">
    <!-- app.js renders swap UI here -->
    <div id="swap-container"></div>
  </section>

  <!-- ========== DICE (KEEP ORIGINAL) ========== -->
  <section id="dice" class="page">
    <div class="dice-info">
      <span>Min: 1 VIN</span>
      <span>Max: 50 VIN</span>
    </div>

    <!-- app.js renders dice UI here -->
    <div id="dice-container"></div>
  </section>

  <!-- ========== LOTTO ========== -->
  <section id="lotto" class="page">
    <div class="lotto-box">

      <div class="lotto-type">
        <label>
          <input type="radio" name="lottoType" value="betone" checked />
          BetOne
        </label>
        <label>
          <input type="radio" name="lottoType" value="bet27" />
          Bet27
        </label>
      </div>

      <table class="lotto-table">
        <thead>
          <tr>
            <th>Number</th>
            <th>VIN</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="lottoRows">
          <!-- rows added by JS -->
        </tbody>
      </table>

      <div class="lotto-tools">
        <button id="lottoAdd">+</button>
        <button id="lottoHalf">½</button>
        <button id="lottoDouble">×2</button>
        <button id="lottoClear">Clear</button>
      </div>

      <button id="lottoPlay" class="btn-primary">
        Play
      </button>

      <div id="lottoStatus" class="tx-status">–</div>
      <div id="lottoResult" class="lotto-result"></div>

    </div>
  </section>

</main>

<!-- ================= FOOTER ================= -->
<footer class="footer">

  <div class="footer-contracts">
    <a href="https://monadvision.com/token/0x038A2f1abe221d403834aa775669169Ef5eb120A" target="_blank">
      VIN Token
    </a>
    •
    <a href="https://monadvision.com/address/0x73a8C8Bf994A53DaBb9aE707cD7555DFD1909fbB" target="_blank">
      Swap
    </a>
    •
    <a href="https://monadvision.com/address/0xf2b1C0A522211949Ad2671b0F4bF92547d66ef3A" target="_blank">
      Dice
    </a>
    •
    <a href="https://monadvision.com/address/0x84392F14fCeCEEe31a5Fd69BfD0Dd2a9AAF364E5" target="_blank">
      Lotto
    </a>
  </div>

  <div class="footer-links">
    <a href="https://github.com/vinmonad" target="_blank">GitHub</a>
    •
    <a href="https://x.com/vinmonad" target="_blank">X</a>
    •
    <a href="https://t.me/vinmonad" target="_blank">Telegram</a>
  </div>

</footer>

<!-- ================= SCRIPTS ================= -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script src="app.js"></script>

<script>
async function fetchVinPriceUsd() {
  const el = document.getElementById("vinPriceUsd");
  if (!el) return;

  try {
    const res = await fetch(
      "https://api.coingecko.com/api/v3/simple/price?ids=monad&vs_currencies=usd"
    );
    const data = await res.json();

    const monUsd = data?.monad?.usd;
    if (!monUsd) {
      el.textContent = "N/A";
      return;
    }

    const vinUsd = monUsd * 100;
    el.textContent = vinUsd.toFixed(4);
  } catch {
    el.textContent = "N/A";
  }
}

fetchVinPriceUsd();
setInterval(fetchVinPriceUsd, 60000);
</script>


</body>
</html>
